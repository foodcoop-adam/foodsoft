- title 'Order articles', false

- content_for :sidebar do
  .sidebar-container
    .well.article-info-container.article-info{data: {spy: 'affix', 'offset-top' => 100}}
    .well.facets
      %ul.nav.nav-list
        %li.nav-header= ArticleCategory.model_name.human
        - @article_categories.each do |article_category|
          %li{data: {category: article_category.id}, class: ('active' if article_category.id==params[:article_category_id].to_i)}
            = link_to article_category.name, order_articles_path(article_category_id: article_category.id), remote: true

#articles_table
  = render 'order_articles'

- content_for :javascript do
  :javascript
    $(function() {
      $(document).on('mouseenter mouseleave', 'tr.order-article', function(e) {
        // TODO support touchclick
        if (e.type=='mouseenter') {
          $('.article-info-container').
            html($('.article-info', this).html()).
            css('width', $('.facets').width()).
            show();
          $('.facets').hide();
        } else {
          $('.article-info-container').
            hide().
            html('');
          $('.facets').show();
        }
      });

    });
